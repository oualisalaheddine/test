
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Formulaire Opération Interne</title>
     <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"> -->
    <link rel="stylesheet" th:href="@{/select2/css/select2.min.css}"/>
    
    
</head>
<body>
<div class="container mt-4">
      <h1 th:text="${operationInterne.id != null ? 'Modifier Opération Interne' : 'Nouvelle Opération Interne'}"></h1>
    <form th:action="@{${operationInterne.id == null}
           ? '/pontbascule/operations-internes'
           : '/pontbascule/operations-internes/' + ${operationInterne.id}}"
            th:object="${operationInterne}" method="post">
        <div class="mb-3">
            <label for="vehiculeTarer" class="form-label">Véhicule Tarer</label>
            <select id="vehiculeTarer" th:field="*{vehiculeTarer}" class="form-select">
                <option value="" disabled selected>Choisir un véhicule</option>
                <option th:each="vehicule : ${vehiculesTarer}"
                        th:value="${vehicule.immatriculation}"
                        th:text="${vehicule.immatriculation}"></option>
             <!--    <option value="new">Nouveau Véhicule</option> -->
            </select>
            <div class="text-danger" th:if="${#fields.hasErrors('vehiculeTarer')}" th:errors="*{vehiculeTarer}"></div>
        </div>
        <a th:href="@{/pontbascule/vehicules-tarer/nouveau}" class="btn btn-link">Créer un nouveau véhicule</a>
        <button type="submit" class="btn btn-success"> <span th:text="${operationInterne.id != null ? 'modifier' : 'Enregistrer'}"> </span></button>
        <a th:href="@{/pontbascule/operations-internes}" class="btn btn-secondary">Annuler</a>
    </form>
</div>

<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
 	<!-- <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>  -->
 <script th:src ="@{/select2/js/select2.min.js}"></script>  
  <script th:src="@{/js/bootstrap.bundle.min.js}"></script>

<script>
    $(document).ready(function() {
        $('#vehiculeTarer').select2({
            placeholder: "Choisir un véhicule",
            allowClear: true
        });
     // Mettre le focus sur le champ de sélection sans clic
        $('#vehiculeTarer').select2().on('select2:open', function() {
            document.querySelector('.select2-search__field').focus();
        }).select2('open');
     
    });
</script>
</body>
</html>
